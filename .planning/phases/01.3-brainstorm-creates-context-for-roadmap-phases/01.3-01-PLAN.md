---
phase: 01.3-brainstorm-creates-context-for-roadmap-phases
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - plugins/claude-super-team/skills/brainstorm/SKILL.md
autonomous: true
quick_phase: true

must_haves:
  truths:
    - When brainstorm adds phases to the roadmap via /create-roadmap (Phase 11), a new Phase 11.5 generates a CONTEXT.md for each newly created phase
    - Each CONTEXT.md follows the discuss-phase context template structure (assets/context-template.md) so plan-phase and execute-phase can consume it
    - Sections where brainstorm data is unavailable are noted as "Not available from brainstorm session" rather than omitted
    - Phase 11.5 only runs when Phase 11 actually created new phases (user chose "Add to roadmap" and create-roadmap succeeded)
  artifacts:
    - plugins/claude-super-team/skills/brainstorm/SKILL.md (modified)
  key_links: []
---

<objective>
Add a new Phase 11.5 to the brainstorm skill that generates a CONTEXT.md file for each phase added to the roadmap during Phase 11. The CONTEXT.md maps brainstorm discussion data (scope, tradeoffs, integration, risk answers, decisions) into the standard discuss-phase context template format, giving downstream skills (plan-phase, execute-phase) a head start.

Purpose: When brainstorm adds ideas as roadmap phases, the discussion decisions are currently lost -- plan-phase and discuss-phase would need to re-explore the same territory. Phase 11.5 bridges this gap by persisting brainstorm decisions in the standard context format.
Output: Modified brainstorm SKILL.md with Phase 11.5 that writes CONTEXT.md files for newly created roadmap phases.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01.3-brainstorm-creates-context-for-roadmap-phases/01.3-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Phase 11.5 to brainstorm SKILL.md for CONTEXT.md generation</name>
  <files>plugins/claude-super-team/skills/brainstorm/SKILL.md</files>
  <action>
Insert a new "### Phase 11.5: Generate Context Files for New Phases" section between the existing Phase 11 (Update Roadmap) and Phase 12 (Present Summary). This section runs only when Phase 11 resulted in new phases being added to the roadmap (i.e., user chose "Add to roadmap" and /create-roadmap was invoked). If Phase 11 was skipped or user chose "Manual later", skip Phase 11.5 entirely.

The section must instruct Claude to:

1. **Detect new phase directories.** After /create-roadmap completes, read the updated ROADMAP.md to identify newly added phases and their directory names under `.planning/phases/`. Each approved idea that became a roadmap phase gets its own CONTEXT.md.

2. **Read the context template.** Read `plugins/claude-super-team/skills/discuss-phase/assets/context-template.md` at runtime to get the current template structure.

3. **For each new phase, write a `{NN}-CONTEXT.md` file** in that phase's directory. Map the brainstorm discussion data for the corresponding idea into the template sections:

   - **Phase Boundary**: Goal and success criteria from the ROADMAP.md entry. In scope / out of scope derived from the brainstorm scope discussion (Phase 4 step 4.3 question 1 for interactive, or the idea description for autonomous).
   - **Codebase Context**: If codebase was mapped (`.planning/codebase/` exists), summarize relevant findings from the brainstorm's loaded context. Integration points from Phase 4 step 4.3 question 3. If not mapped, note "Not available from brainstorm session -- run /map-codebase and /discuss-phase to populate."
   - **Cross-Phase Dependencies**: Derive from ROADMAP.md depends_on field if present. Otherwise "Not available from brainstorm session."
   - **Implementation Decisions**: Map each brainstorm discussion answer (scope, tradeoffs, integration, risk) as a decision entry with Decision/Rationale/Constraints format. For autonomous mode ideas, map the idea's implementation notes and tradeoffs as decisions.
   - **Claude's Discretion**: Areas where the user chose "You decide" during brainstorm discussion, or areas not covered by brainstorm. Always include a note: "This CONTEXT.md was auto-generated from a brainstorm session. Run /discuss-phase for deeper exploration of gray areas."
   - **Specific Ideas**: The idea's implementation notes from the brainstorm discussion.
   - **Deferred Ideas**: Any related ideas that were deferred during the brainstorm session that pertain to this phase.
   - **Examples section**: Note "Not available from brainstorm session."

4. **Report what was created.** After writing, print a list of the CONTEXT.md files created so Phase 12 can include them in the summary.

Also update Phase 12 (Present Summary) to include the created CONTEXT.md files in the "Created/updated" list when Phase 11.5 ran. Add a line like:
```
{If context files created:}
- .planning/phases/{NN}-{slug}/{NN}-CONTEXT.md (for each new phase)
```

Additionally, update the **Success Criteria** checklist at the bottom of SKILL.md to add:
```
- [ ] If phases were added to roadmap, CONTEXT.md files created for each new phase using the standard context template
```
  </action>
  <verify>Read the modified SKILL.md and confirm: (1) Phase 11.5 exists between Phase 11 and Phase 12, (2) it only triggers when Phase 11 added phases to the roadmap, (3) it reads the context template at runtime, (4) it maps brainstorm data into all template sections with fallback text for missing data, (5) Phase 12 summary includes created context files, (6) success criteria checklist is updated, (7) YAML frontmatter is preserved, (8) all other phases are unchanged.</verify>
  <done>Brainstorm SKILL.md contains Phase 11.5 that generates CONTEXT.md files for each newly created roadmap phase, using the standard discuss-phase context template format, with brainstorm discussion data mapped into all template sections.</done>
</task>

</tasks>

<verification>
Read the modified brainstorm SKILL.md end-to-end. Confirm:
1. Phase 11.5 appears between Phase 11 and Phase 12 with clear conditional logic (only runs when /create-roadmap created new phases)
2. The template is read from `plugins/claude-super-team/skills/discuss-phase/assets/context-template.md` at runtime
3. All context template sections are addressed with mapping instructions or "Not available from brainstorm session" fallbacks
4. Phase 12 summary output includes context file paths when they were created
5. Success criteria checklist includes context file generation
6. No existing phases, frontmatter, or scope guardrails were altered
</verification>

<success_criteria>
When brainstorm adds a phase to the roadmap, it also creates a CONTEXT.md in that phase's directory with the decisions from the brainstorm discussion, following the standard context template format so downstream skills (plan-phase, execute-phase) can consume it.
</success_criteria>

<output>
After completion, create `.planning/phases/01.3-brainstorm-creates-context-for-roadmap-phases/01.3-01-SUMMARY.md`
</output>
