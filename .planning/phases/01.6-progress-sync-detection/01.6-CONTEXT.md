# Phase 1.6 Context: Add Planning File Sync Detection to Progress Skill

## Phase Boundary

**Phase:** 1.6 -- Add Planning File Sync Detection to Progress Skill
**Type:** Quick phase (inserted before Phase 2)
**Goal:** Make `/progress` detect and report sync issues between planning files

## Implementation Decisions

### Sync Checks to Implement (LOCKED)

All three categories of desync detection:

1. **Directory vs Roadmap** -- Phase directories in `.planning/phases/` that aren't listed in ROADMAP.md, and ROADMAP.md phases without matching directories
2. **STATE.md drift** -- STATE.md references a phase number that doesn't exist in ROADMAP.md or has no matching directory
3. **Progress table inconsistencies** -- Entries in the ROADMAP.md Progress table that don't match the Phases checklist (missing or extra entries)

### Output Format (LOCKED)

**Warning block at top of report.** Show a prominent warning section at the very top of the progress output (before the phase table), only when sync issues are detected. If no issues found, omit the section entirely.

## Claude's Discretion

- Exact warning formatting and wording
- Implementation approach within the SKILL.md (inline logic vs helper steps)
- How to parse phase numbers from directory names and ROADMAP.md entries

## Deferred Ideas

None.
