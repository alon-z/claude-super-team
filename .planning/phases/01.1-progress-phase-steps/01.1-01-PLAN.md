---
phase: 01.1-progress-phase-steps
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - plugins/claude-super-team/skills/progress/SKILL.md
autonomous: true
quick_phase: true

must_haves:
  truths:
    - The progress report phase table shows discuss/research/plan step status for each phase
    - Step status is derived from CONTEXT.md, RESEARCH.md, and PLAN.md file presence in each phase directory
  artifacts:
    - plugins/claude-super-team/skills/progress/SKILL.md (modified)
  key_links: []
---

<objective>
Enhance the `/progress` skill's phase table to show per-phase pipeline step status -- whether discussion (CONTEXT.md), research (RESEARCH.md), and planning (PLAN.md) have been completed for each phase. This gives users at-a-glance visibility into where each phase sits in the pre-execution pipeline.

Purpose: Users currently see only phase status and plan counts but cannot tell which pre-execution steps (discuss, research, plan) have been done. This creates confusion about what to do next for a given phase.
Output: Modified SKILL.md with an enhanced phase table that includes a "Steps" column showing pipeline step indicators.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add pipeline step detection to Phase 5 and enhance phase table in Phase 6</name>
  <files>plugins/claude-super-team/skills/progress/SKILL.md</files>
  <action>
Modify the `/progress` skill (SKILL.md) in three places:

**1. Phase 5 (Build Phase Map) -- Add step detection.**
After the existing `CONTEXT_EXISTS` check in the per-phase loop (around line 131-132), add detection for RESEARCH.md and PLAN.md presence. The skill already checks `CONTEXT_EXISTS` and `PLAN_COUNT`; ensure all three are tracked per phase:
- `HAS_CONTEXT` -- `*-CONTEXT.md` exists in the phase directory
- `HAS_RESEARCH` -- `*-RESEARCH.md` exists in the phase directory
- `HAS_PLANS` -- at least one `*-PLAN.md` exists in the phase directory

These are already partially detected (CONTEXT_EXISTS and PLAN_COUNT); just ensure all three are explicitly named and available for the table.

**2. Phase 6 (Present Status Report) -- Add "Steps" column to phase table.**
Change the phase table format from:

```
| # | Phase | Status | Plans |
```

to:

```
| # | Phase | Status | Steps | Plans |
```

The "Steps" column shows three-character pipeline indicators using these symbols:
- `D` = discuss (CONTEXT.md exists), `·` = not done
- `R` = research (RESEARCH.md exists), `·` = not done
- `P` = plan (PLAN.md exists), `·` = not done

Examples:
- `D R P` -- all three steps completed
- `D · P` -- discussed and planned, research skipped
- `· · ·` -- no pre-execution steps done yet
- `D R ·` -- discussed and researched, not yet planned

For phases with status `done`, show `- - -` (dashes) since steps are moot for completed phases.

Update the example table in Phase 6 to demonstrate the new column:

```
| # | Phase | Status | Steps | Plans |
|---|-------|--------|-------|-------|
| 1 | Foundation | ✓ done | - - - | 3/3 |
| 2 | Authentication | ▸ executing | D R P | 1/2 |
| 3 | API Layer | ○ planned | D · P | 0/1 |
| 4 | Dashboard | · upcoming | · · · | -- |
```

**3. Phase 6 -- Add a legend below the status indicators section.**
After the existing status indicator list (lines ~170-176), add a brief legend:

```
**Steps column:** `D` discuss | `R` research | `P` plan (`·` = not done, `- - -` = phase complete)
```

Do NOT modify Phase 7 (Smart Routing) -- it already handles routing correctly using the same file detection logic.
  </action>
  <verify>Read the modified SKILL.md and confirm: (1) Phase 5 detects all three file types per phase, (2) Phase 6 table has a "Steps" column with correct format and example, (3) a legend explains the step indicators, (4) Phase 7 routing logic is unchanged, (5) YAML frontmatter is preserved.</verify>
  <done>The progress skill's phase table includes a "Steps" column showing D/R/P indicators derived from CONTEXT.md, RESEARCH.md, and PLAN.md file presence. A legend explains the indicators. All other skill behavior is unchanged.</done>
</task>

</tasks>

<verification>
Run `/progress` on the current project and confirm:
1. The phase table includes a "Steps" column
2. Phase 1 (complete) shows `- - -` in Steps
3. Phase 1.1 (current, quick) shows appropriate step indicators
4. Upcoming phases show `· · ·`
5. Smart routing still suggests the correct next action
</verification>

<success_criteria>
The progress report shows discuss/research/plan step status for each phase alongside the existing phase table, derived from the presence of CONTEXT.md, RESEARCH.md, and PLAN.md files in each phase directory.
</success_criteria>

<output>
After completion, create `.planning/phases/01.1-progress-phase-steps/01.1-01-SUMMARY.md`
</output>
