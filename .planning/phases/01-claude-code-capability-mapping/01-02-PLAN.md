---
phase: 01-claude-code-capability-mapping
plan: 02
type: execute
wave: 1
depends_on:
  - 01
files_modified:
  - CAPABILITY-REFERENCE.md
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "model skill frontmatter status is 'In use' with notes listing the 6 skills that use it"
    - "context skill frontmatter status is 'In use' with notes listing the 2 skills that use context: fork"
    - "Skill count reads '17 skills across 3 plugins' not '13 skills across 3 plugins'"
    - "All 'Used in all 13 skills' references updated to 'Used in all 17 skills'"
  artifacts:
    - path: "CAPABILITY-REFERENCE.md"
      provides: "Corrected adoption status flags and skill counts"
  key_links: []
---

<objective>
Fix four factual inaccuracies in CAPABILITY-REFERENCE.md identified by the Phase 01 Plan 01 verification report.

Purpose: The verification found two incorrect adoption status flags and two inaccurate skill counts. These errors would propagate into Phase 2's audit, causing it to incorrectly identify already-adopted capabilities as adoption opportunities and undercount the marketplace's skill coverage. All four fixes are simple text edits in a single file.

Output: Corrected CAPABILITY-REFERENCE.md with accurate status flags and skill counts.
</objective>

<context>
@.planning/phases/01-claude-code-capability-mapping/01-01-VERIFICATION.md
@CAPABILITY-REFERENCE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix incorrect adoption statuses and skill counts in CAPABILITY-REFERENCE.md</name>
  <files>CAPABILITY-REFERENCE.md</files>
  <action>
Make the following four edits to CAPABILITY-REFERENCE.md:

**Fix 1 -- `model` skill frontmatter status (Section 1, Skill Frontmatter Fields table):**
Find the row for `model` (Override model sonnet/opus/haiku). Change its Status column from "Documented but unused" to "In use". Update the Notes column to: "Used in 6 skills: cst-help, progress, map-codebase, marketplace-manager, skill-creator, github-issue-manager"

**Fix 2 -- `context` skill frontmatter status (Section 1, Skill Frontmatter Fields table):**
Find the row for `context` (`skill` default or `fork` spawns subagent). Change its Status column from "Documented but unused" to "In use". Update the Notes column to: "Used in 2 skills: progress, map-codebase (context: fork)"

**Fix 3 -- Skill count in Plugin Component Types table (Section 4):**
Find the row for "Skills" in the Plugin Component Types table. Change "13 skills across 3 plugins" to "17 skills across 3 plugins".

**Fix 4 -- Skill count in `name` field notes (Section 1, Skill Frontmatter Fields table):**
Find the row for `name` (Unique skill identifier). Change "Used in all 13 skills" to "Used in all 17 skills" in the Notes column. Also update the `description` row and `allowed-tools / tools` row if they reference "13 skills" -- change to "17 skills".
  </action>
  <verify>
Run these checks against CAPABILITY-REFERENCE.md:

1. Grep for "Documented but unused" near "model" in the Skill Frontmatter Fields table -- should NOT match (model should now be "In use")
2. Grep for "Documented but unused" near "context" in the Skill Frontmatter Fields table -- should NOT match for the `context` row (context should now be "In use"; note: other rows like `agent` may still be "Documented but unused")
3. Grep for "13 skills" anywhere in the file -- should return zero matches
4. Grep for "17 skills" -- should return matches confirming the updated counts
5. Verify the `model` row Notes column contains the 6-skill list
6. Verify the `context` row Notes column contains the 2-skill list
  </verify>
  <done>
All four verification checks from 01-01-VERIFICATION.md Anti-Patterns #1 and #2 are resolved:
- `model` status is "In use" with 6-skill evidence
- `context` status is "In use" with 2-skill evidence
- All "13 skills" references replaced with "17 skills"
- Skill count in Plugin Component Types reads "17 skills across 3 plugins"
  </done>
</task>

</tasks>

<verification>
1. `model` row in Section 1 Skill Frontmatter Fields shows "In use" with notes listing 6 skills
2. `context` row in Section 1 Skill Frontmatter Fields shows "In use" with notes listing 2 skills
3. Zero occurrences of "13 skills" remain in CAPABILITY-REFERENCE.md
4. "17 skills across 3 plugins" appears in Section 4 Plugin Component Types
5. "Used in all 17 skills" appears in Section 1 for `name`, `description`, and `allowed-tools` rows
</verification>

<success_criteria>
All four anti-pattern fixes from the verification report are applied. A re-run of the same verification checks that produced "gaps_found" now produces "pass" for Anti-Patterns #1 and #2.
</success_criteria>

<output>
After completion, create `.planning/phases/01-claude-code-capability-mapping/01-02-SUMMARY.md` documenting:
- Which lines were edited
- Confirmation that all four verification anti-patterns are resolved
- No new issues introduced
</output>
